<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>分野選択 - DX×AIが変える、10年後の日本</title>
  <link rel="stylesheet" href="assets/css/base.css">
  <link rel="stylesheet" href="assets/css/home.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1>🏛️ DX×AIが変える、10年後の日本</h1>
      <nav>
        <a href="#" id="changeProfileLink" class="profile-link">前提条件を変更する</a>
      </nav>
    </div>
  </header>

  <main class="hub-container">
    <!-- キャラクター情報バー -->
    <div id="characterInfoBar" class="character-info-bar">
      <!-- home.jsで動的生成 -->
    </div>

    <div class="hub-intro">
      <h2>分野を選んで体験してください</h2>
      <p>各分野でDX・AI導入による効率化を比較できます</p>
    </div>

    <!-- 戦略ボードへのリンク -->
    <div class="strategy-board-banner" id="strategyBoardBanner">
      <div class="banner-content">
        <div class="banner-icon">🎮</div>
        <div class="banner-text">
          <h3 class="banner-title">戦略ボード - 資源配分を最適化しよう</h3>
          <p class="banner-subtitle">ポイント制限の中で各分野への投資を決定するゲーム体験</p>
        </div>
      </div>
      <a href="strategy.html" class="strategy-board-cta">
        今すぐ始める →
      </a>
    </div>

    <!-- デスクトップ: リング配置 / モバイル: グリッド -->
    <div id="domainHub" class="domain-hub" role="navigation" aria-label="分野選択">
      <!-- home.jsで動的生成 -->
    </div>

    <div class="hub-note">
      <p>※ 本デモは制度・施設運用の単純化・誇張を含みます。実際の効果は環境により異なります。</p>
    </div>

    <!-- 統計分析セクション（初期状態は非表示） -->
    <section id="statisticsSection" class="statistics-section" style="display: none;">
      <div class="statistics-header">
        <h2>🌍 社会全体への波及効果分析</h2>
        <button id="closeStatistics" class="close-statistics-btn" aria-label="統計を閉じる">×</button>
      </div>

      <!-- メトリクスカード -->
      <div class="metrics-container">
        <div class="metric-card reduction">
          <div class="metric-label">📊 流通件数削減率</div>
          <div class="metric-value" id="reductionPercentage">--%</div>
          <div class="metric-detail" id="reductionDetail">件数削減</div>
        </div>

        <div class="metric-card time">
          <div class="metric-label">⏱️ 必要時間削減</div>
          <div class="metric-value" id="timeSaving">--日分</div>
          <div class="metric-detail" id="timeSavingDetail">年間削減</div>
        </div>

        <div class="metric-card cost">
          <div class="metric-label">💰 コスト削減</div>
          <div class="metric-value" id="costSaving">￥--</div>
          <div class="metric-detail" id="costSavingDetail">月額削減</div>
        </div>

        <div class="metric-card admin">
          <div class="metric-label">🏛️ 行政DXの波及</div>
          <div class="metric-value" id="adminImpact">状況確認中</div>
          <div class="metric-detail" id="adminImpactDetail">全体への効果</div>
        </div>
      </div>

      <!-- グラフセクション -->
      <div class="charts-container">
        <div class="chart-wrapper">
          <h3 class="chart-title">📊 流通件数削減率</h3>
          <p class="chart-description">各分野がどれだけ処理件数を削減できるかを示します</p>
          <canvas id="volumeChart"></canvas>
        </div>

        <div class="chart-wrapper">
          <h3 class="chart-title">⏱️ 必要時間削減率</h3>
          <p class="chart-description">一件当たりに必要な時間をどれだけ短縮できるかを示します</p>
          <canvas id="timeChart"></canvas>
        </div>
      </div>

      <!-- 分野別詳細 -->
      <h3 class="section-title">📋 分野別の詳細指標</h3>
      <div id="domainDetailsGrid" class="domain-details-grid"></div>

      <!-- 行政DXの波及効果 -->
      <h3 class="section-title">🏛️ 行政DXが他分野に与える影響</h3>
      <div id="impactDetails" class="impact-details">
        <ul></ul>
      </div>

      <footer class="statistics-footer">
        <p>本分析は、全人口30万人の自治体におけるシミュレーション結果です。</p>
        <p>実際の導入効果は、自治体規模や既存システムにより異なります。</p>
      </footer>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <script src="assets/js/state.js"></script>
  <script src="assets/js/home.js"></script>
</body>
</html>
